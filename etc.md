# 쿠버네티스 런타임

* 쿠버네티스는 런타임 엔진으로 도커만 지원 하였음

* 현재는 도커 뿐만 아니라 rkt역시 지원

    * rkt는 코어OS(CentOS)에 제작된 앱 컨테이너를 구동하는 명령행 툴로 도커의 대안

    * rkt는 도커 컨테이너를 처리 할수 있을 뿐 아니라 앱 컨테이너 이미지 사양도 준수

* 즉 쿠버네티스가 특정 런타임과 완전히 분리되는 방향으로 변화하고 있음

* 쿠버네티스와 런타임엔진은 인터페이스를 통해 상호 작용을 함

## 런타임 인터페이스

* 런타임 인터페이스는 쿠버네티스 깃헙 프로젝트에 있습니다.

## 도커
* 초기의 쿠버네티스는 도커 컨테이너만 관리하도록 설계가 되었음

* 도커는 컨테이너 엔진 중에서 가장 많이 사용되지만 그에 따른 비판도 존재 (보안, 네트워킹 설정, 모니터링, 로깅 등)

* 도커는 이런 비판을 인지하고 도커 스웜 제품에 적극적으로 투자하여 일부를 해결함

* 도커 스웜은 도커가 지원하는 오케스트레이션 솔루션(쿠버네티스와 경쟁관계, 상대적으로 사용이 쉽지만 기능이 부족)

* 도커 1.12 부터 도커 데몬에 스웜 모드가 포함되었지만 일부 사람들은 도커가 불필요하게 커졌다고 비판

## rkt
* rkt는 코어 OS에서 파생된 컨테이너 매니저

* 단순성, 보안 및 격리에 강점을 가진 특징을 가지고 있음

* 도커와 달리 데몬을 가지고 있지 않음 (systemd와 같은 OS init 시스템에 따라 수행)

* 앱 컨테이너

  * 코어OS는 appc라는 표준화 작업을 시작했음 (표준 이미지 포맷, 런타임, 서명, 탐색 등)

  * 도커의 경우 OCI를 사용해 자체적으로 표준화 작업을 시작 (런타임 사양과 이미지 사양의 표준화)

  * 이러한 표준화 작업은 통합될 것으로 예상 됨

* rkt와 쿠버네티스의 통합은 완전히 매끄럽지 않기 때문에 특별한 이유가 아니라면 도커 사용을 추천

* 특별한 경우란 코어OS기반 클러스터를 운영해야 하는 경우

# 지속적 통합과 배포

* 쿠버네티스의 경우 테스트 배포 버전에 오류가 있을 경우 이전 버전으로 즉시 돌릴수 있어 업무 수행에 있어서도 안정적

* 스키마 변경과 데이터 이관등의 업무는 자동으로 돌릴수 없기 때문에 주의가 필요

* 개발자가 전체 클러스터를 로컬에서 실행 할 수 있음(초기에 작업이 필요)
