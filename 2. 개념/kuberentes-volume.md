# Kubernetes  Volume

## 1. 개요

도커와 마찬가지로 쿠버네티스 안의 컨테이너들의 데이터는 일시적입니다.

컨테이너가 문제가 생겨서 kubelet이 재기동을 할 때 저장 되었던 데이터는 손실이 될 뿐 아니라

팟 안의 컨테이너들끼리 데이터를 공유해야 하는 경우가 존재합니다.

~~~
비고

일반적으로 팟과 컨테이너의 경우 1:1 매핑이 많지만 컨테이너들이 비교적 단단하게 결합 된 경우 하나 이상의 컨테이너를 팟에 포함 시킬 수 있습니다.

컨테이너는 도커 컨테이너와 같이 특정 항목을 나타내는 엔티티입니다. 쿠버네티스는 컨테이너를 관리하기 위해 재시작 정책이나 live probe(살아 있는지 확인)가 필요합니다.

쿠버네티스는 이러한 추가 속성과 함께 기존의 컨테이너를 올리는 대신 논리적으로 하나 이상의 컨테이너를 포함하는 팟을 사용하기로 결정하였습니다.

팟 안에 다중 컨테이너를 허용한 이유는 아래와 같습니다.

팟 안의 컨테이너는 논리적인 호스트에서 실행 됩니다. 동일한 네트워크 네임스페이스(같은 IP, 포트 공간), IPC 네임 스페이스 및 공유 볼륨을 사용 할 수 있습니다.

이러한 방법을 통해서 컨테이너는 효율적으로 통신하며 data locality(일반적으로 더 빠른 데이터 교환이 가능)을 가능하게 합니다.

그리고 단단히 결합 된 여러 개의 응용 프로그램 컨테이너들을 하나의 단위로 관리 할 수 있습니다.

여러 응용 프로그램을 각각의 컨테이너가 아니라 하나의 컨테이너로 만들 수 도 있지만

컨테이너 당 하나의 프로세스 원칙에 위배 됩니다. 그리고 각 응용 프로그램 당 하나의 컨테이너를 사용 하는 것이 투명성이 높으며 소프트웨어적 종속성을 분리 할 수 있고 재사용이 더 용이 합니다.
~~~


이런 경우 Kubernetes Volume을 통해서 문제를 해결해야 합니다.

## 2. Volume 종류

쿠버네티스가 지원하는 볼륨은 턴키 클라우드 환경(aws, azure) 뿐만 아니라 여러 종류가 존재합니다.

## 3. local


/usr/share/nginx/html
